<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login/Register - SHOP</title>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Fredoka+One&family=Cherry+Swash:wght@700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
    font-family:'Fredoka One', sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background: linear-gradient(135deg,#330000,#660000);
}

.container {
    text-align:center;
    background: linear-gradient(145deg,#ff1a1a,#cc0000);
    border-radius:25px;
    padding:40px 30px;
    width:90%;
    max-width:400px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3), 0 0 20px #ff3333 inset;
    transform: translateY(-50px);
    opacity:0;
    animation: slideIn 1s forwards;
}

@keyframes slideIn { to { transform:translateY(0); opacity:1; } }

h1 {
    font-family:'Pacifico', cursive;
    font-size:2.2rem;
    color:#fff;
    margin-bottom:25px;
    text-shadow:0 0 5px #ff6666,0 0 15px #ff1a1a;
    animation: bounce 2s infinite;
}

@keyframes bounce { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-8px);} }

.register-text {
    font-family:'Fredoka One', cursive;
    font-size:1.2rem;
    color:#fff;
    cursor:pointer;
    text-decoration:underline;
    margin-top:15px;
    transition:0.3s;
}

.register-text:hover {
    color:#ffcccc;
    text-shadow:0 0 5px #ff6666,0 0 10px #ff3333;
}

#register-form {
    display:none;
    flex-direction:column;
    align-items:center;
    margin-top:15px;
}

#register-form input, #register-form button {
    width:80%;
    margin-top:12px;
    padding:14px;
    font-size:16px;
    border-radius:12px;
    border:none;
    outline:none;
    transition:all 0.3s ease;
}

#register-form input {
    background:#660000;
    color:#fff;
    border:2px solid #ff1a1a;
    box-shadow:2px 2px 8px rgba(0,0,0,0.2);
    font-family:'Cherry Swash', cursive;
}

#register-form input:focus { border-color:#ff3333; box-shadow:2px 2px 12px #ff6666; }

#register-form button {
    background:linear-gradient(145deg,#ff1a1a,#ff3333);
    color:#fff;
    font-family:'Fredoka One', cursive;
    font-size:1.1rem;
    font-weight:bold;
    cursor:pointer;
    box-shadow:2px 4px 12px rgba(0,0,0,0.3);
}

#register-form button:hover {
    background:linear-gradient(145deg,#ff3333,#ff1a1a);
    transform:translateY(-3px);
    box-shadow:4px 6px 20px rgba(0,0,0,0.4);
}

/* Custom Google Button with SVG */
.gsi-material-button {
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    background: linear-gradient(145deg,#ff1a1a,#ff4d4d);
    color:#fff;
    font-family:'Cherry Swash', cursive;
    font-size:1.1rem;
    padding:12px;
    border-radius:12px;
    border:none;
    cursor:pointer;
    box-shadow:2px 4px 12px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    margin-top:15px;
}

.gsi-material-button:hover {
    background: linear-gradient(145deg,#ff4d4d,#ff1a1a);
    transform: translateY(-3px);
    box-shadow:4px 6px 20px rgba(0,0,0,0.4);
}

.gsi-material-button svg {
    width:20px;
    height:20px;
}

@media(max-width:480px) {
    .container{padding:30px 20px;}
    h1{font-size:1.8rem;}
    #register-form input,#register-form button,.gsi-material-button{width:90%;}
}
</style>
</head>
<body>
<div class="container">
    <h1>Sign in with Google</h1>

    <!-- Custom Google Button -->
    <button class="gsi-material-button" onclick="googleSignIn()">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
            <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
            <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
            <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
            <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
            <path fill="none" d="M0 0h48v48H0z"></path>
        </svg>
        Sign in with Google
    </button>

    <div class="register-text" onclick="showRegisterForm()">Register with Gmail</div>

    <div id="register-form">
        <input type="email" id="register-email" placeholder="Enter your Gmail" required>
        <button onclick="submitRegister()">Submit</button>
    </div>
</div>

<script>
window.onload = function(){
    // Initialize Google Identity Services
    google.accounts.id.initialize({
        client_id: "314703538838-cp2nm11deeirrtus11290r46v4ugeqdq.apps.googleusercontent.com",
        callback: handleCredentialResponse
    });
};

function googleSignIn(){
    // Trigger official Google One Tap popup
    google.accounts.id.prompt();
}

function handleCredentialResponse(response){
    console.log("JWT Token: "+response.credential);
    window.location.href="https://seoulgangid-arch.github.io/SHOP/";
}

function showRegisterForm(){
    const form=document.getElementById("register-form");
    form.style.display="flex";
    form.animate([{opacity:0},{opacity:1}],{duration:500});
}

function submitRegister(){
    const email=document.getElementById("register-email").value.trim();
    if(!email){ alert("Please enter a valid Gmail."); return; }
    alert(`Thank you! The email ${email} has been sent to the admin for verification.`);
    const form=document.getElementById("register-form");
    form.style.display="none";
    document.getElementById("register-email").value="";
}
</script>
</body>
</html>
